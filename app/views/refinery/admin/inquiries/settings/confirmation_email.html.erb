<%# find_by..  is trick for make form request as PATCH -%>
<%= form_for Refinery::Setting.find_by(scoping: 'inquiries'),
            :remote => true,
            :url => refinery.confirmation_email_admin_inquiries_settings_path do |f| %>

  <p>
    <%= t('.explanation') %>
  </p>
  <p>
    <%= t('.below_edit_email_sent') %>
  </p>
  <table class="form">
    <tr>
      <th>
        <label class="stripped"><%= t('.to') %></label>
      </th>
      <td>
        <%= t('.the_customer_making_inquiry') %>
      </td>
    </tr>
    <tr>
      <th>
        <label class="stripped"><%= t('.from') %></label>
      </th>
      <td>
        <%= "#{Refinery::Core.site_name} &lt;no-reply@#{request.domain}&gt;".html_safe %>
      </td>
    </tr>
    <% Refinery::I18n.frontend_locales.each do |locale| %>
      <tr>
        <th>
          <label class="stripped"><%= t('.subject') %> (<%= locale.to_s %>)</label>
        </th>
        <td>
          <%= text_field_tag "subject[][#{locale.to_s}]", Refinery::Inquiries::Setting.confirmation_subject(locale),
                             :class => 'widest' %>
        </td>
      </tr>
      <tr>
        <td valign="top">
          <%= f.label :value, t('.message'),
                      :class => 'stripped' %> (<%= locale.to_s %>)
        </td>
        <td>
          <%= text_area_tag "body[][#{locale.to_s}]", Refinery::Inquiries::Setting.confirmation_body(locale), # required, we can't use :value
                          :rows => 5,
                          :class => 'widest' %>
          <br/>
          <em><%= t('.note') %></em>
        </td>
      </tr>
    <% end %>
  </table>

  <%= render :partial => '/refinery/admin/form_actions',
             :locals => {
               :f => f,
               :continue_editing => false,
               :cancel_url => refinery.admin_inquiries_inquiries_path,
               :hide_delete => true
             } %>
<% end %>
